<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–∏–Ω–∏-–ò–≥—Ä–∞ –≤ Telegram</title>
    <script src="https://telegram.org/js/telegram-web-app.js?56"></script>
    <style>
        /* –°—Ç–∏–ª–∏ –¥–ª—è –∏–≥—Ä—ã, —á—Ç–æ–±—ã –æ–Ω–∞ –∑–∞–Ω–∏–º–∞–ª–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω */
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #2b2b2b;
            color: white;
            font-family: Arial, sans-serif;
            overflow: hidden;
        }

        #game-container {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        #score {
            font-size: 2rem;
            margin-bottom: 20px;
        }

        #start-btn {
            background-color: #0088cc;
            color: white;
            padding: 15px 30px;
            border-radius: 5px;
            font-size: 1.5rem;
            cursor: pointer;
            border: none;
            transition: background-color 0.3s;
        }

        #start-btn:hover {
            background-color: #005f7f;
        }

        .emoji {
            font-size: 5rem;
            margin: 20px;
            transition: transform 0.3s ease;
        }

        #emoji-container {
            display: flex;
            justify-content: center;
            width: 100%;
        }

    </style>
</head>
<body>
    <div id="game-container">
        <div id="score">–û—á–∫–∏: 0</div>
        <button id="start-btn">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
        <div id="emoji-container">
            <div class="emoji" id="emoji-1">üçå</div>
            <div class="emoji" id="emoji-2">üíì</div>
            <div class="emoji" id="emoji-3">ü¶¥</div>
        </div>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App
        window.Telegram.WebApp.initData = window.Telegram.WebApp.initData || '';
        window.Telegram.WebApp.colorScheme = window.Telegram.WebApp.colorScheme || 'light';
        window.Telegram.WebApp.setHeaderColor("#2b2b2b");
        window.Telegram.WebApp.setBackgroundColor("#2b2b2b");
        window.Telegram.WebApp.setBottomBarColor("#2b2b2b");

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å—Ç–∞—Ä—Ç–∞ –∏–≥—Ä—ã
        let score = 0;
        let isGameStarted = false;

        function startGame() {
            isGameStarted = true;
            score = 0;
            document.getElementById("score").innerText = "–û—á–∫–∏: " + score;
            document.getElementById("start-btn").style.display = "none";
            shuffleEmojis();
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–ª—É—á–∞–π–Ω–æ–π –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∏ —ç–º–æ–¥–∑–∏
        function shuffleEmojis() {
            if (isGameStarted) {
                const emojis = ["üçå", "üíì", "ü¶¥"];
                const shuffled = emojis.sort(() => Math.random() - 0.5);
                document.getElementById("emoji-1").innerText = shuffled[0];
                document.getElementById("emoji-2").innerText = shuffled[1];
                document.getElementById("emoji-3").innerText = shuffled[2];

                // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –Ω–∞ —ç–º–æ–¥–∑–∏
                document.querySelectorAll('.emoji').forEach(emoji => {
                    emoji.addEventListener('click', handleEmojiClick);
                });
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–ª–∏–∫–∞ –Ω–∞ —ç–º–æ–¥–∑–∏
        function handleEmojiClick(event) {
            if (!isGameStarted) return;

            const clickedEmoji = event.target.innerText;
            const correctOrder = ["üçå", "üíì", "ü¶¥"];
            const currentEmojis = [
                document.getElementById("emoji-1").innerText,
                document.getElementById("emoji-2").innerText,
                document.getElementById("emoji-3").innerText
            ];

            if (clickedEmoji === correctOrder[0]) {
                score += 1;
                document.getElementById("score").innerText = "–û—á–∫–∏: " + score;
                shuffleEmojis();
            } else if (clickedEmoji === correctOrder[1] && currentEmojis[0] === correctOrder[0]) {
                score += 1;
                document.getElementById("score").innerText = "–û—á–∫–∏: " + score;
                shuffleEmojis();
            } else if (clickedEmoji === correctOrder[2] && currentEmojis[1] === correctOrder[1]) {
                score += 10; // –ë–æ–Ω—É—Å–Ω—ã–µ –æ—á–∫–∏ –∑–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫
                document.getElementById("score").innerText = "–û—á–∫–∏: " + score;
                shuffleEmojis();
            }
        }

        // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ —Å—Ç–∞—Ä—Ç–∞
        document.getElementById("start-btn").addEventListener("click", startGame);

        // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ä–µ–∂–∏–º –ø–æ–ª–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ –¥–ª—è –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        window.Telegram.WebApp.expand();
        window.Telegram.WebApp.requestFullscreen();
    </script>
</body>
</html>
